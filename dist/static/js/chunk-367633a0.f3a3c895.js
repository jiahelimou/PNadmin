(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-367633a0"],{1347:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[e._m(0),a("div",{staticStyle:{width:"80%",margin:"0px auto","margin-top":"-16px"}},[a("el-form",{ref:"eventForm",staticClass:"el-form el-form--label-top",staticStyle:{width:"100%"},attrs:{model:e.eventForm,rules:e.rules}},[a("el-row",[a("el-col",{staticClass:"bott",attrs:{span:12}},[a("el-form-item",[a("label",{staticClass:"el-form-item__label",attrs:{for:"type"}},[a("span",[e._v(" Project Type: "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("el-form-item",{attrs:{prop:"Type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Please Select"},model:{value:e.eventForm.Type,callback:function(t){e.$set(e.eventForm,"Type",t)},expression:"eventForm.Type"}},e._l(e.types,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})})),1)],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"bott",attrs:{span:12}},[a("el-form-item",{attrs:{label:""}},[a("label",{staticClass:"el-form-item__label",attrs:{for:"type"}},[a("span",[e._v(" Category: "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("el-form-item",{attrs:{prop:"Category"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{id:"Category",name:"Category",placeholder:"Please Select"},on:{change:e.selectSupp},model:{value:e.eventForm.Category,callback:function(t){e.$set(e.eventForm,"Category",t)},expression:"eventForm.Category"}},e._l(e.Categorys,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})})),1)],1)],1)],1),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.reason,expression:"reason"}],attrs:{id:"reason",span:12}},[a("el-form-item",{staticStyle:{"margin-left":"20px"}},[a("label",{staticClass:"el-form-item__label",attrs:{for:"type"}},[a("span",[e._v(" Project: "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("el-form-item",{attrs:{prop:"Project"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{id:"Project",name:"Project",placeholder:"Please Select"},model:{value:e.eventForm.Project,callback:function(t){e.$set(e.eventForm,"Project",t)},expression:"eventForm.Project"}},[a("el-option",{attrs:{value:"122"}},[e._v("122")]),a("el-option",{attrs:{value:"87"}},[e._v("87")]),a("el-option",{attrs:{value:"62"}},[e._v("62")]),a("el-option",{attrs:{value:"4"}},[e._v("4")]),a("el-option",{attrs:{value:"128"}},[e._v("128")])],1)],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",[a("label",{staticClass:"el-form-item__label",attrs:{for:"type"}},[a("span",[e._v(" Event Name (Please only restrict up to 80 chars): "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.eventForm.name,callback:function(t){e.$set(e.eventForm,"name",t)},expression:"eventForm.name"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticClass:"Location"},[e._v("Location")])])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:""}},[a("label",{staticClass:"el-form-item__label"},[e._v("Enter Address:")]),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"Enter Address"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.toAddress()}},model:{value:e.eventForm.address,callback:function(t){e.$set(e.eventForm,"address",t)},expression:"eventForm.address"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form-item",{staticClass:"is-no-asterisk el-form-item--medium",attrs:{label:""}},[a("div",{staticClass:"el-form-item__content"},[a("div",{staticClass:"form-div"},[a("label",[e._v("Enter Lat Long")]),a("div",{staticClass:"time-div",staticStyle:{width:"100%"}},[a("div",{staticClass:"el-input el-input--medium"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.eventForm.latitude,expression:"eventForm.latitude"}],staticClass:"el-input__inner",attrs:{type:"number",autocomplete:"off",placeholder:"Enter Latitude ex. 1.00",step:1e-6},domProps:{value:e.eventForm.latitude},on:{input:function(t){t.target.composing||e.$set(e.eventForm,"latitude",t.target.value)}}})]),a("span",[e._v(",")]),a("div",{staticClass:"el-input el-input--medium"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.eventForm.longitude,expression:"eventForm.longitude"}],staticClass:"el-input__inner",attrs:{type:"number",autocomplete:"off",placeholder:"Enter Longitude ex. 103.00",step:1e-6},domProps:{value:e.eventForm.longitude},on:{input:function(t){t.target.composing||e.$set(e.eventForm,"longitude",t.target.value)}}})])])])])])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:""}},[a("label",{staticClass:"el-form-item__label",attrs:{for:"description"}},[a("span",[e._v(" Description: "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("el-form-item",{attrs:{label:"",prop:"description"}},[a("tinymce",{attrs:{height:150},model:{value:e.eventForm.description,callback:function(t){e.$set(e.eventForm,"description",t)},expression:"eventForm.description"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:""}},[a("label",{staticClass:"el-form-item__label",attrs:{for:"description"}},[a("span",[e._v(" Upload Thumbnail / Cover Image: "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("el-form-item",[a("el-upload",{class:{hide:e.hideUpload,uoloadSty:e.showBtnDealImg,disUoloadSty:e.noneBtnImg},attrs:{action:"","list-type":"picture-card","on-remove":e.handleRemove,"on-success":e.handleAvatarSuccess,"on-change":e.changeUpload,limit:1,"auto-upload":!1}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1)],1)],1),e._l(e.eventForm.domains,(function(t,l){return a("el-row",{key:t.key,attrs:{label:"域名"+l,prop:"domains."+l+".value"}},[a("el-col",{attrs:{span:8}},[a("label",{staticClass:"el-form-item__label timel",attrs:{for:"Event Date"}},[a("span",[e._v(" Event Date: "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("div",{staticClass:"block"},[a("el-form-item",{attrs:{label:"",prop:"date"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"yyy-mm-dd"},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"domain.date"}})],1)],1)]),a("el-col",{attrs:{span:16}},[a("label",{staticClass:"el-form-item__label timel",attrs:{for:"Choose Time Range (start and end time):"}},[a("span",[e._v(" Choose Time Range (start and end time): "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("br"),a("el-form-item",{staticClass:"abreast",staticStyle:{"margin-right":"15px"},attrs:{label:"",prop:"time1"}},[a("el-time-picker",{attrs:{format:"A HH:mm:00","picker-options":{format:"A HH:mm"},placeholder:"hh:mm"},model:{value:t.time1,callback:function(a){e.$set(t,"time1",a)},expression:"domain.time1"}})],1),a("el-form-item",{staticClass:"abreast",attrs:{label:"",prop:"time2"}},[a("el-time-picker",{attrs:{format:"A HH:mm:00","picker-options":{format:"A HH:mm"},placeholder:"hh:mm"},model:{value:t.time2,callback:function(a){e.$set(t,"time2",a)},expression:"domain.time2"}})],1),0!==l?a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return a.preventDefault(),e.removeDomain(t,l)}}}):e._e()],1)],1)})),a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"5px"},attrs:{span:24}},[a("el-checkbox",{staticStyle:{margin:"5px 0"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("Split into hourly interval")]),a("br"),a("el-button",{attrs:{type:"primary"},on:{click:e.addDomain}},[e._v("Add")])],1)],1),a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"5px"},attrs:{span:24}},[a("label",{staticClass:"el-form-item__label",attrs:{for:"type"}},[e._v("Determine number of PAX per slot:")]),a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Please Select"},model:{value:e.eventForm.PAX,callback:function(t){e.$set(e.eventForm,"PAX",t)},expression:"eventForm.PAX"}},e._l(e.PAXs,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("label",{staticStyle:{"font-weight":"lighter"},attrs:{for:"type","aria-required":"required"}},[e._v("Capacity:")]),a("el-form-item",[a("el-radio-group",{model:{value:e.eventForm.Capacity,callback:function(t){e.$set(e.eventForm,"Capacity",t)},expression:"eventForm.Capacity"}},[a("el-radio",{attrs:{label:"Limited"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}}),a("el-radio",{attrs:{label:"UnLimited"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}})],1),"Limited"==e.eventForm.Capacity?a("input",{directives:[{name:"show",rawName:"v-show",value:e.Lim,expression:"Lim"},{name:"model",rawName:"v-model",value:e.Capacity,expression:"Capacity"}],staticClass:"el-input__inner",attrs:{type:"number",autocomplete:"off",placeholder:"Enter Capacity"},domProps:{value:e.Capacity},on:{input:function(t){t.target.composing||(e.Capacity=t.target.value)}}}):e._e(),a("br")],1)],1)],1),a("br"),a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:16}},[a("label",{staticStyle:{"font-weight":"lighter"},attrs:{for:"type","aria-required":"required"}},[e._v("Detail of Guests")]),a("el-form-item",{attrs:{prop:"details"}},[a("el-checkbox-group",{model:{value:e.eventForm.details,callback:function(t){e.$set(e.eventForm,"details",t)},expression:"eventForm.details"}},[a("el-checkbox",{attrs:{label:"name",name:"details"}}),a("el-checkbox",{attrs:{label:"Phone",name:"details"}}),a("el-checkbox",{attrs:{label:"Nric Number",name:"details"}}),a("el-checkbox",{attrs:{label:"Email",name:"details"}}),a("el-checkbox",{attrs:{label:"Mailing Address",name:"details"}})],1)],1)],1)],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("label",{staticClass:"el-form-item__label",attrs:{for:"type"}},[e._v("Auto Reply Email Message:")]),a("el-form-item",[a("tinymce",{attrs:{height:150},model:{value:e.eventForm.reply,callback:function(t){e.$set(e.eventForm,"reply",t)},expression:"eventForm.reply"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("el-switch",{attrs:{"active-value":"Yes","inactive-value":"No","active-text":"Publish as story"},model:{value:e.eventForm.Publish,callback:function(t){e.$set(e.eventForm,"Publish",t)},expression:"eventForm.Publish"}})],1),a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("el-switch",{attrs:{"active-value":"Yes","inactive-value":"No","active-text":"Login required"},model:{value:e.eventForm.Login,callback:function(t){e.$set(e.eventForm,"Login",t)},expression:"eventForm.Login"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-top":"30px","margin-bottom":"40px","text-align":"center"}},[a("button",{staticClass:"el-button el-button--primary el-button--medium is-round",staticStyle:{width:"200px",height:"40px"},attrs:{"data-v-0dc77527":"",type:"button"},on:{click:function(t){return e.onSubmit("eventForm")}}},[a("span",[e._v("Submit")])])])],2)],1)])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"filter-container",staticStyle:{"text-align":"left"}},[a("p",{staticClass:"title"},[e._v("Add Event")])])}],r=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("a434"),a("8256")),i=(a("5cf3"),a("bc3a")),s=a.n(i),n=(a("df7c"),{name:"EventFormmgtadd",components:{Tinymce:r["a"]},props:{isEdit:{type:Boolean,default:!1}},data:function(){return{eventForm:{Type:"",Category:"",Project:"",name:"",address:"",latitude:"",longitude:"",description:"",PAX:0,Capacity:"Limited",details:[],reply:"",Publish:!1,Login:!1,domains:[{date:"",time1:"",time2:""}]},rules:{Type:[{required:!0,message:"Please select",trigger:"change"}],name:[{required:!0,message:"title is required",trigger:0}],description:[{required:!0,message:"Description of Project is required!",trigger:"input"}],Category:[{required:!0,message:"Category is required!",trigger:"change"}],details:[{type:"array",required:!0,message:"guest eetails is required",trigger:"change"}]},types:[{value:1,label:"Public"},{value:2,label:"Private"}],Categorys:[{value:1,label:"Project"},{value:2,label:"General"},{value:3,label:"Training"},{value:4,label:"Friends"},{value:5,label:"Virtual"}],PAXs:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"}],fileList:[],timer:0,dialogImageUrl:"",dialogVisible:!1,hideUpload:!1,showBtnDealImg:!0,noneBtnImg:!1,limitCountImg:3,listLength:0,checked:!1,radio:"Limited",Capacity:"",Lim:!0,value:"",reason:!1}},computed:{newAddress:function(){return this.eventForm.address}},watch:{newAddress:function(e){var t=this;0===this.timer||clearTimeout(this.timer),this.timer=setTimeout((function(){t.toAddress()}),500)}},mounted:function(){},methods:{onSubmit:function(e){var t=this;"Limited"==this.eventForm.Capacity?this.eventForm.Capacity=this.Capacity:this.eventForm.Capacity,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;s.a.post("/api/pageList/add",t.eventForm).then((function(e){"0"==e.data.code&&(t.$router.push({path:"/example/table"}),t.$message({type:"success",message:"新建成功！"}))})).catch((function(e){console.log(e)})),alert("submit!"),console.log("数据",t.eventForm)}))},toAddress:function(){var e=this,t="7ec46393f655ebc45ef04ccd4830cdc1";s.a.get("https://restapi.amap.com/v3/geocode/geo?key="+t+"&address="+this.eventForm.address).then((function(t){var a=t.data.geocodes[0].location,l=a.split(","),o=l[0],r=l[1];e.eventForm.longitude=o,e.eventForm.latitude=r})).catch((function(e){}))},handleRemove:function(e,t){console.log("移除"),console.log(e,t),this.hideUpload=t.length>=1},handleAvatarSuccess:function(e,t){console.log("上传成功"),this.imageUrl=URL.createObjectURL(t.raw)},changeUpload:function(e,t){this.disabled=!1,this.dialogImageUrl=e.url,this.hideUpload=t.length>=1},selectSupp:function(e){this.reason="Project"==e},addDomain:function(e){this.eventForm.domains.push({date:"",time1:"",time2:"",key:Date.now()})},removeDomain:function(e,t){t=this.eventForm.domains.indexOf(e);-1!==t&&this.eventForm.domains.splice(t,1)},agreeChange:function(e){this.Lim=1===e}}}),c=n,m=(a("f5e5"),a("2877")),d=Object(m["a"])(c,l,o,!1,null,null,null);t["default"]=d.exports},3123:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var l=a("b775");function o(){return Object(l["a"])({url:"/qiniu/upload/token",method:"get"})}},"5cf3":function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-upload",{attrs:{data:e.dataObj,multiple:!0,"before-upload":e.beforeUpload,action:"https://upload.qbox.me",drag:""}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" 将文件拖到此处，或"),a("em",[e._v("点击上传")])])])},o=[],r=(a("d3b7"),a("3123")),i={data:function(){return{dataObj:{token:"",key:""},image_uri:[],fileList:[]}},methods:{beforeUpload:function(){var e=this;return new Promise((function(t,a){Object(r["a"])().then((function(a){var l=a.data.qiniu_key,o=a.data.qiniu_token;e._data.dataObj.token=o,e._data.dataObj.key=l,t(!0)})).catch((function(e){console.log(e),a(!1)}))}))}}},s=i,n=a("2877"),c=Object(n["a"])(s,l,o,!1,null,null,null);c.exports},7633:function(e,t,a){},f5e5:function(e,t,a){"use strict";a("7633")}}]);