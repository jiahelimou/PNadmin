(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b564d7f8"],{"09f1":function(e,t,a){},3123:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var l=a("b775");function o(){return Object(l["a"])({url:"/qiniu/upload/token",method:"get"})}},"5cf3":function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-upload",{attrs:{data:e.dataObj,multiple:!0,"before-upload":e.beforeUpload,action:"https://upload.qbox.me",drag:""}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" 将文件拖到此处，或"),a("em",[e._v("点击上传")])])])},o=[],i=(a("d3b7"),a("3123")),r={data:function(){return{dataObj:{token:"",key:""},image_uri:[],fileList:[]}},methods:{beforeUpload:function(){var e=this;return new Promise((function(t,a){Object(i["a"])().then((function(a){var l=a.data.qiniu_key,o=a.data.qiniu_token;e._data.dataObj.token=o,e._data.dataObj.key=l,t(!0)})).catch((function(e){console.log(e),a(!1)}))}))}}},s=r,n=a("2877"),c=Object(n["a"])(s,l,o,!1,null,null,null);c.exports},"7db0":function(e,t,a){"use strict";var l=a("23e7"),o=a("b727").find,i=a("44d2"),r=a("ae40"),s="find",n=!0,c=r(s);s in[]&&Array(1)[s]((function(){n=!1})),l({target:"Array",proto:!0,forced:n||!c},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(s)},a8ff:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[e._m(0),a("div",{staticStyle:{width:"80%",margin:"0px auto","margin-top":"-16px"}},[a("el-form",{ref:"editForm",staticClass:"el-form el-form--label-top",staticStyle:{width:"100%"},attrs:{model:e.editForm}},[a("el-row",[a("el-col",{staticClass:"bott",attrs:{span:12}},[a("el-form-item",[a("label",{staticClass:"el-form-item__label",attrs:{for:"type"}},[a("span",[e._v(" Project Type: "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("el-form-item",{attrs:{prop:"Type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Please Select"},model:{value:e.editForm.Type,callback:function(t){e.$set(e.editForm,"Type",t)},expression:"editForm.Type"}},e._l(e.types,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})})),1)],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"bott",attrs:{span:12}},[a("el-form-item",{attrs:{label:""}},[a("label",{staticClass:"el-form-item__label",attrs:{for:"type"}},[a("span",[e._v(" Category: "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("el-form-item",{attrs:{prop:"Category"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{id:"Category",name:"Category",placeholder:"Please Select"},on:{change:e.selectSupp},model:{value:e.editForm.Category,callback:function(t){e.$set(e.editForm,"Category",t)},expression:"editForm.Category"}},e._l(e.Categorys,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})})),1)],1),e._v(" "+e._s(e.editForm.Category)+" ")],1)],1),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.reason,expression:"reason"}],attrs:{id:"reason",span:12}},[a("el-form-item",{staticStyle:{"margin-left":"20px"}},[a("label",{staticClass:"el-form-item__label",attrs:{for:"type"}},[a("span",[e._v(" Project: "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("el-form-item",{attrs:{prop:"Project"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{id:"Project",name:"Project",placeholder:"Please Select"},model:{value:e.editForm.Project,callback:function(t){e.$set(e.editForm,"Project",t)},expression:"editForm.Project"}},[a("el-option",{attrs:{value:"122"}},[e._v("122")]),a("el-option",{attrs:{value:"87"}},[e._v("87")]),a("el-option",{attrs:{value:"62"}},[e._v("62")]),a("el-option",{attrs:{value:"4"}},[e._v("4")]),a("el-option",{attrs:{value:"128"}},[e._v("128")])],1)],1),e._v(" "+e._s(e.editForm.Project)+" ")],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",[a("label",{staticClass:"el-form-item__label",attrs:{for:"type"}},[a("span",[e._v(" Event name (Please only restrict up to 80 chars): "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticClass:"Location"},[e._v("Location")])])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:""}},[a("label",{staticClass:"el-form-item__label"},[e._v("Enter Address:")]),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"Enter Address"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.toAddress()}},model:{value:e.editForm.address,callback:function(t){e.$set(e.editForm,"address",t)},expression:"editForm.address"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form-item",{staticClass:"is-no-asterisk el-form-item--medium",attrs:{label:""}},[a("div",{staticClass:"el-form-item__content"},[a("div",{staticClass:"form-div"},[a("label",[e._v("Enter Lat Long")]),a("div",{staticClass:"time-div",staticStyle:{width:"100%"}},[a("div",{staticClass:"el-input el-input--medium"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editForm.latitude,expression:"editForm.latitude"}],staticClass:"el-input__inner",attrs:{type:"number",autocomplete:"off",placeholder:"Enter Latitude ex. 1.00",step:1e-6},domProps:{value:e.editForm.latitude},on:{input:function(t){t.target.composing||e.$set(e.editForm,"latitude",t.target.value)}}})]),a("span",[e._v(",")]),a("div",{staticClass:"el-input el-input--medium"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editForm.longitude,expression:"editForm.longitude"}],staticClass:"el-input__inner",attrs:{type:"number",autocomplete:"off",placeholder:"Enter Longitude ex. 103.00",step:1e-6},domProps:{value:e.editForm.longitude},on:{input:function(t){t.target.composing||e.$set(e.editForm,"longitude",t.target.value)}}})])])])])])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:""}},[a("label",{staticClass:"el-form-item__label",attrs:{for:"description"}},[a("span",[e._v(" Description: "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("el-form-item",{attrs:{label:"",prop:"description"}},[a("tinymce",{attrs:{height:150},model:{value:e.editForm.description,callback:function(t){e.$set(e.editForm,"description",t)},expression:"editForm.description"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:""}},[a("label",{staticClass:"el-form-item__label",attrs:{for:"description"}},[a("span",[e._v(" Upload Thumbnail / Cover Image: "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("el-form-item",{attrs:{label:""}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"",name:"file","auto-upload":!1,"list-type":"picture-card","on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-change":e.onchange,"on-success":e.handleSuccess,"on-error":e.handleError,"file-list":e.fileList}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1)],1)],1),e._l(e.editForm.domains,(function(t,l){return a("el-row",{key:t.key,staticStyle:{"margin-bottom":"20px"},attrs:{label:"域名"+l,prop:"domains."+l+".value"}},[a("el-col",{attrs:{span:8}},[a("label",{staticClass:"el-form-item__label timel",attrs:{for:"Event Date"}},[a("span",[e._v(" Event Date: "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("div",{staticClass:"block"},[a("el-form-item",{attrs:{label:"",prop:"date"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"yyy-mm-dd"},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"domain.date"}}),a("br"),e._v(e._s(t.date)+" ")],1)],1)]),a("el-col",{attrs:{span:12}},[a("label",{staticClass:"el-form-item__label timel",attrs:{for:"Choose Time Range (start and end time):"}},[a("span",[e._v(" Choose Time Range (start and end time): "),a("label",{staticStyle:{color:"red"},attrs:{for:""}},[e._v("*")])])]),a("br"),a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"",prop:"time1"}},[a("el-time-picker",{attrs:{format:"A HH:mm:00","picker-options":{format:"A HH:mm"},placeholder:"hh:mm"},model:{value:t.time1,callback:function(a){e.$set(t,"time1",a)},expression:"domain.time1"}})],1),a("el-form-item",{staticStyle:{float:"right"},attrs:{label:"",prop:"time2"}},[a("el-time-picker",{attrs:{format:"A HH:mm:00","picker-options":{format:"A HH:mm"},placeholder:"hh:mm"},model:{value:t.time2,callback:function(a){e.$set(t,"time2",a)},expression:"domain.time2"}})],1),0!==l?a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return a.preventDefault(),e.removeDomain(t,l)}}}):e._e()],1)],1)})),a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"5px"},attrs:{span:24}},[a("el-checkbox",{staticStyle:{margin:"5px 0"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("Split into hourly interval")]),a("br"),a("el-button",{attrs:{type:"primary"},on:{click:e.addDomain}},[e._v("Add")])],1)],1),a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"5px"},attrs:{span:24}},[a("label",{staticClass:"el-form-item__label",attrs:{for:"type"}},[e._v("Determine number of PAX per slot:")]),a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Please Select"},model:{value:e.editForm.PAX,callback:function(t){e.$set(e.editForm,"PAX",t)},expression:"editForm.PAX"}},e._l(e.PAXs,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("label",{staticStyle:{"font-weight":"lighter"},attrs:{for:"type","aria-required":"required"}},[e._v("Capacity:")]),a("el-form-item",[a("el-radio-group",{model:{value:e.editForm.Capacity,callback:function(t){e.$set(e.editForm,"Capacity",t)},expression:"editForm.Capacity"}},[a("el-radio",{attrs:{label:"Limited"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}}),a("el-radio",{attrs:{label:"UnLimited"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}})],1),"Limited"==e.editForm.Capacity?a("input",{directives:[{name:"show",rawName:"v-show",value:e.Lim,expression:"Lim"},{name:"model",rawName:"v-model",value:e.Capacity,expression:"Capacity"}],staticClass:"el-input__inner",attrs:{type:"number",autocomplete:"off",placeholder:"Enter Capacity"},domProps:{value:e.Capacity},on:{input:function(t){t.target.composing||(e.Capacity=t.target.value)}}}):e._e(),a("br")],1)],1)],1),a("br"),a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:16}},[a("label",{staticStyle:{"font-weight":"lighter"},attrs:{for:"type","aria-required":"required"}},[e._v("Detail of Guests")]),a("el-form-item",{attrs:{prop:"details"}},[a("el-checkbox-group",{model:{value:e.editForm.details,callback:function(t){e.$set(e.editForm,"details",t)},expression:"editForm.details"}},[a("el-checkbox",{attrs:{label:"name",name:"details"}}),a("el-checkbox",{attrs:{label:"Phone",name:"details"}}),a("el-checkbox",{attrs:{label:"Nric Number",name:"details"}}),a("el-checkbox",{attrs:{label:"Email",name:"details"}}),a("el-checkbox",{attrs:{label:"Mailing Address",name:"details"}})],1)],1)],1)],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("label",{staticClass:"el-form-item__label",attrs:{for:"type"}},[e._v("Auto Reply Email Message:")]),a("el-form-item",[a("tinymce",{attrs:{height:150},model:{value:e.editForm.reply,callback:function(t){e.$set(e.editForm,"reply",t)},expression:"editForm.reply"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("el-switch",{attrs:{"active-value":"Yes","inactive-value":"No","active-text":"Publish as story"},model:{value:e.editForm.Publish,callback:function(t){e.$set(e.editForm,"Publish",t)},expression:"editForm.Publish"}})],1),a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("el-switch",{attrs:{"active-value":"Yes","inactive-value":"No","active-text":"Login required"},model:{value:e.editForm.Login,callback:function(t){e.$set(e.editForm,"Login",t)},expression:"editForm.Login"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-top":"30px","margin-bottom":"40px","text-align":"center"}},[a("button",{staticClass:"el-button el-button--primary el-button--medium is-round",staticStyle:{width:"200px",height:"40px"},attrs:{"data-v-0dc77527":"",type:"button"},on:{click:function(t){return e.onSubmit("editForm")}}},[a("span",[e._v("Submit")])])])],2)],1)])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"filter-container",staticStyle:{"text-align":"left"}},[a("p",{staticClass:"title"},[e._v("Update Event")])])}],i=(a("7db0"),a("d3b7"),a("b0c0"),a("a434"),a("8256")),r=(a("5cf3"),a("bc3a")),s=a.n(r),n=(a("df7c"),a("c24f"),{name:"EditFormmgtadd",components:{Tinymce:i["a"]},props:{isEdit:{type:Boolean,default:!1}},data:function(){return{props:{id:String},id:"",editForm:{Type:"",Category:"",Project:"",name:"",address:"",latitude:"",longitude:"",description:"",PAX:0,Capacity:"Limited",details:[],reply:"",Publish:!1,Login:!1,domains:[{date:"",time1:"",time2:""}]},types:[{value:1,label:"Public"},{value:2,label:"Private"}],Categorys:[{value:1,label:"Project"},{value:2,label:"General"},{value:3,label:"Training"},{value:4,label:"Friends"},{value:5,label:"Virtual"}],PAXs:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"}],fileList:[{name:"food2.jpeg",url:"https://picx.zhimg.com/80/v2-6c5ff4ef0bb78991ed03ab720f1b2447_720w.webp?source=1940ef5c"}],timer:0,dialogImageUrl:"",dialogVisible:!1,checked:!1,radio:"Limited",Capacity:"",Lim:!0,value:"",reason:!1}},computed:{newAddress:function(){return this.editForm.address}},watch:{newAddress:function(e){var t=this;0===this.timer||clearTimeout(this.timer),this.timer=setTimeout((function(){t.toAddress()}),500)}},mounted:function(){this.getParams()},created:function(){},methods:{getParams:function(){var e=this;this.id=this.$route.query.id,console.log("id",this.id),s.a.post("/api/pageList").then((function(t){e.ListDatas=t.data,console.log("3_",e.ListDatas);var a=e.ListDatas.find((function(t){return t.id===e.id}));console.log("4_",a),e.editForm.name=a.name})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;"Limited"==this.editForm.Capacity?this.editForm.Capacity=this.Capacity:this.editForm.Capacity,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;s.a.post("/api/pageList/edit",t.editForm).then((function(e){console.log("2.",e),"0"==e.data.code&&(t.$router.push({path:"/example/table"}),t.$message({type:"success",message:"修改成功！"}))})).catch((function(e){console.log(e)})),alert("submit!"),console.log("3.编辑后的数据",t.editForm)}))},toAddress:function(){var e=this,t="7ec46393f655ebc45ef04ccd4830cdc1";s.a.get("https://restapi.amap.com/v3/geocode/geo?key="+t+"&address="+this.editForm.address).then((function(t){var a=t.data.geocodes[0].location,l=a.split(","),o=l[0],i=l[1];e.editForm.longitude=o,e.editForm.latitude=i})).catch((function(e){console.log("————失败————"),console.log(e)}))},onchange:function(e,t){console.log("改变");var a=e.name,l=e.url;console.log("imgN",a),console.log("imgU",l),this.dialogImageUrl=e.url,console.log(this.dialogImageUrl,t)},handleSuccess:function(e,t,a){console.log("成功",e)},handleError:function(e,t,a){console.log(e)},handleRemove:function(e,t){console.log("移出-名字",e.name),console.log("移出-路径",e.url),console.log("on-remove_",e,t)},handlePreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},selectSupp:function(e){this.reason="Project"==e},addDomain:function(e){this.editForm.domains.push({date:"",time1:"",time2:"",key:Date.now()})},removeDomain:function(e,t){t=this.editForm.domains.indexOf(e);-1!==t&&this.editForm.domains.splice(t,1)},agreeChange:function(e){this.Lim=1===e}}}),c=n,d=(a("b96e"),a("2877")),m=Object(d["a"])(c,l,o,!1,null,"196d20e3",null);t["default"]=m.exports},b96e:function(e,t,a){"use strict";a("09f1")}}]);